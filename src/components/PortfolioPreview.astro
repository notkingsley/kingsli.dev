---
import HoverText from "./HoverText.astro";
import Icon from "./Icon.astro";
import { icon_to_hover_text, type ProjectEntry } from "./project_entry";

import "../styles/portfolio_preview.css";

interface Props {
    project: { data: ProjectEntry; slug: string };
}

const { data, slug } = Astro.props.project;
---

<a class="card portfolio" href={`/project/${slug}`}>
    <span class="title portfolio">{data.title}</span>
    <div class="tags portfolio">
        {
            data.tags.map((t) => (
                // @ts-ignore
                <HoverText text={icon_to_hover_text[t]}>
                    <Icon icon={t} size="1.2em" gradient />
                </HoverText>
            ))
        }
    </div>
    <img
        src={data.img}
        alt={data.img_alt || ""}
        loading="lazy"
        decoding="async"
        class="portfolio"
    />
</a>
